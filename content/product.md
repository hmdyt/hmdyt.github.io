---
title: "作ったもの"
date: 2022-10-01T15:43:21+09:00
draft: false
description: githubのリポジトリをベースに、作ったものを紹介しています。
---

## 放射線シミュレーション

[GitHub](https://github.com/hmdyt/mcMuonPhotoProduction)

- B4の卒業研究の時に実験で使う検出器の応答をシミュレーションするために作った
- [Geant4](https://geant4.web.cern.ch)という放射線シミュレーションツールを使って実装している
    
    > 📌  Geant4はC++製のオーブンソースツールキットで、エキスパート向けに作られたもの。誰でも簡単に放射線シミュレーションができてしまうのはあまり良くないという製作団体の意向があったよう。実際にツールのインストールはソースからのビルドが主な方法になっていたり、シミュレーションを回すには仮想クラスをゴリゴリ実装する必要があったり、(これはC++特有の問題とも言えるかもしれないが) メモリのことを気にしながらデータのやり取りをしなければならなかったり、といろいろ大変だった。
    
- 左の写真は検出器を上から撮ったもの
- 右の写真は検出器のモデルをGeant4で作って可視化したもの
![detector](/img/product/detector.png)

## 物理解析ツール

[GitHub](https://github.com/hmdyt/b4ex_mppc_analyze)

- B4の卒業研究で宇宙線ミューオンの飛跡を解析/可視化するために作った
    - ROOTという素粒子実験スペシフィックなC++製ツールを使った
    
    > 📌 ROOTもC++製でオープンソースな感じのツール。開発元はGeant4と同じCERN。こっちはGeant4と違って素人でも扱いやすいツールになっている。使いやすいと言えるポイントはいくつかあるが、私が感動したのはROOTをインストールするとC++ likeなインタプリタが起動できるところ (C++ likeと言ったのはROOT独自記法なども使えてしまうから) 。またrootファイルというデータ構造を定義しており、これは素粒子実験でよく用いられる “イベント” という単位でのデータの扱いを簡単にすることができるものになっている。これのおかげで、素粒子実験屋さんはあまりRDBを使わない。    
    
- こんなものを作った
    - 検出器が吐くバイナリデータ構造をROOTの独自データ構造に変換
    - ROOTを使って解析
    - 所々numpyも使って解析
    - 最後にplotlyで可視化
- なぜnumpyを使った？
    - → ROOTで行列演算をするのが面倒だったから
- なぜplotlyを使った？
    - → 3Dモデルの描画を比較的簡単にできるから
- plotly可視化demoは[こちら](https://fast-goat-42.deno.dev/)
    - ボタンのハンドリングとかはvueで適当にした
  
## lohacoの値段管理ツール

- M1の4月ぐらいにRustの勉強がてら作った
    - Rustの所有権の概念がふんわりわかったかも
    - cli parser が気持ちよかった
- ECサイトlohacoの任意の商品の値段を定期的にDBにぶち込むツール
    - スクレイピングしてます
    - 悪いことしている自覚があるのでprivate repoにある
- DBに詰められた値はgrafana等のツールで可視化することを前提としている

## 安定化電源をIoTするツール

[GitHub](https://github.com/hmdyt/IT6322A_server)

- M1の夏ぐらいに作った
    - 使い慣れたpython, イケイケパッケージマネージャpoetryを使った
- なぜ作ったか
    - 研究で使う安定化電源がある
        - リモート制御したい
        - USB接続には対応している
    - ポスドクの人がシングルボードコンピュータ余らせている
    - 上記二つを合体させたらIoT安定化電源になる!?
- 実装
    - シングルボードコンピュータでsocket serverをホストする
    - オレオレプロトコルを介して安定化電源とシリアル通信する

![nanopineo](/img/product/nanopineo.png)

> 📌 nano pi neoというraspberry piのパチモンを使った。これは、昨今の半導体不足でラズパイの入手性が極めて悪いためモノタロウでたまたま売っていたラズパイっぽいものをポスドクの方が衝動的にポチってしまったためである。nano pi neoは公式imageが古すぎて使い物にならなかったのでシングルボードコンピュータコミュニティが作っているOS (armbian) を使わせてもらった(ありがたい)。

## 電源監視ツール

[GitHub](https://github.com/hmdyt/miraclue_low_voltage_monitor)

- M1の夏ぐらいに作った
- 研究で使用している機器に過電流が流れてしまう既知の問題への対処として
    - ある閾値を超えると電源がシャットダウンするような機能
    - 電流の時間変化をDBに保存する機能
- 環境依存をなくすためにdocker上で動くようにした
    - 上記のloT電源を使ったので機器依存等は考えなくて良く、すんなり実現できた
- loggerを初めて導入した
- DBに溜まったデータはgrafanaでこんな感じに見える

![lowvoltage](/img/product/lowvoltage.png)


## 体重可視化アプリ (開発中)

[GitHub](https://github.com/hmdyt/body_mass)
[App](https://body-mass-c8b99.web.app/)

- 色々な技術を触ってみたかったので車輪の再発明をすることに

> 💡 初めてNoSQLに触れた。簡単すぎてたまげた。

- 技術スタック
    - フロントエンド: React / Typescript
    - バックエンド: なし (フロントからfirebase SDKを使う)
    - DB: firebase
    - ホスティング: firebase hosting
    - 認証: firebase auth
    - github actionsで自動デプロイ/Lintチェック
- 主にfirebaseとReactの勉強って感じ
    - サマーインターンで得たgitの使い方を活かしてcommit綺麗にした(つもり)